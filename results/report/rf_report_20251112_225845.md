# Random Forest Deforestation Detection
## Comprehensive Report

---

**Generated:** 2025-11-12 22:58:45  
**Project:** á»¨ng dá»¥ng Viá»…n thÃ¡m vÃ  Há»c sÃ¢u trong GiÃ¡m sÃ¡t Biáº¿n Ä‘á»™ng Rá»«ng tá»‰nh CÃ  Mau  
**Student:** Ninh Háº£i ÄÄƒng (MSSV: 21021411)  
**Year:** 2025-2026, Há»c ká»³ I

---

## 1. Data Configuration

### Dataset Overview

| **Parameter** | **Value** |
|---------------|-----------|
| **Total Features** | 27 |
| Sentinel-2 Features | 21 (7 before + 7 after + 7 delta) |
| Sentinel-1 Features | 6 (2 before + 2 after + 2 delta) |
| **Ground Truth Points** | 1,306 |
| Class 0 (No Deforestation) | 656 (50.2%) |
| Class 1 (Deforestation) | 650 (49.8%) |

### Data Split

| **Split** | **Samples** | **Percentage** |
|-----------|-------------|----------------|
| Training | 904 | 70% |
| Validation | 194 | 15% |
| Test | 194 | 15% |
| **Total Valid** | **1,292** | **100%** |

### Study Area

- **Location:** CÃ  Mau Province, Vietnam
- **Spatial Reference:** EPSG:32648 (WGS 84 / UTM zone 48N)
- **Resolution:** 10m
- **Dimensions:** 12,547 Ã— 10,917 pixels
- **Valid Pixels:** 15,569,516 (11.37%)

---

## 2. Model Configuration

### Algorithm

**Random Forest Classifier** - Ensemble learning method using multiple decision trees

### Hyperparameters

| **Parameter** | **Value** | **Description** |
|---------------|-----------|-----------------|
| `n_estimators` | 100 | Number of trees in the forest |
| `max_features` | sqrt (~5) | Max features considered per split |
| `max_depth` | None | Unlimited tree depth |
| `min_samples_split` | 2 | Min samples to split a node |
| `min_samples_leaf` | 1 | Min samples in a leaf node |
| `bootstrap` | True | Use bootstrap samples |
| `class_weight` | balanced | Auto-adjust weights for class imbalance |
| `oob_score` | True | Out-of-bag score estimation |
| `random_state` | 42 | Reproducibility seed |

### Training Configuration

- **Cross Validation:** 5-Fold
- **Stratified Sampling:** Yes (maintains class distribution)

---

## 3. Model Performance

### 3.1 Validation Set Results

**Samples:** 194

| **Metric** | **Score** | **Percentage** |
|------------|-----------|----------------|
| **Accuracy** | 0.9897 | **98.97%** |
| Precision | 0.9896 | 98.96% |
| Recall | 0.9896 | 98.96% |
| F1-Score | 0.9896 | 98.96% |
| ROC-AUC | 0.9977 | 99.77% |

**Confusion Matrix:**

|  | **Predicted: No Loss** | **Predicted: Deforestation** |
|--|------------------------|------------------------------|
| **Actual: No Loss** | 97 (TN) | 1 (FP) |
| **Actual: Deforestation** | 1 (FN) | 95 (TP) |

### 3.2 Test Set Results

**Samples:** 194

| **Metric** | **Score** | **Percentage** |
|------------|-----------|----------------|
| **Accuracy** | 0.9794 | **97.94%** |
| Precision | 0.9600 | 96.00% |
| Recall | 1.0000 | 100.00% |
| F1-Score | 0.9796 | 97.96% |
| ROC-AUC | 0.9875 | 98.75% |

**Confusion Matrix:**

|  | **Predicted: No Loss** | **Predicted: Deforestation** |
|--|------------------------|------------------------------|
| **Actual: No Loss** | 94 (TN) | 4 (FP) |
| **Actual: Deforestation** | 0 (FN) | 96 (TP) |

### 3.3 Out-of-Bag Score

- **OOB Score:** 0.9834 (98.34%)

### 3.4 Cross-Validation Results (5-Fold)

| **Metric** | **Mean Â± Std** | **Min** | **Max** |
|------------|----------------|---------|---------|
| Accuracy | 0.9812 Â± 0.0056 | 0.9724 | 0.9890 |
| Precision | 0.9736 Â± 0.0052 | 0.9670 | 0.9780 |
| Recall | 0.9888 Â± 0.0122 | 0.9667 | 1.0000 |
| F1 | 0.9811 Â± 0.0057 | 0.9721 | 0.9889 |
| Roc_auc | 0.9980 Â± 0.0024 | 0.9933 | 0.9998 |

---

## 4. Feature Importance

### Top 15 Most Important Features

| **Rank** | **Feature** | **Importance (%)** | **Visualization** |
|----------|-------------|--------------------|-------------------|
| 1 | `S2_delta_NBR` | 18.24% | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |
| 2 | `S2_delta_B4` | 16.99% | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |
| 3 | `S2_delta_NDVI` | 10.70% | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |
| 4 | `S2_after_NDVI` | 10.12% | â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |
| 5 | `S2_delta_NDMI` | 9.73% | â–ˆâ–ˆâ–ˆâ–ˆ |
| 6 | `S2_after_B4` | 8.56% | â–ˆâ–ˆâ–ˆâ–ˆ |
| 7 | `S2_after_NBR` | 7.18% | â–ˆâ–ˆâ–ˆ |
| 8 | `S2_delta_B12` | 5.47% | â–ˆâ–ˆ |
| 9 | `S2_after_NDMI` | 4.77% | â–ˆâ–ˆ |
| 10 | `S2_after_B8` | 1.60% |  |
| 11 | `S2_delta_B11` | 1.32% |  |
| 12 | `S2_after_B12` | 0.91% |  |
| 13 | `S2_delta_B8` | 0.76% |  |
| 14 | `S2_after_B11` | 0.69% |  |
| 15 | `S1_after_VV` | 0.48% |  |

> **Note:** Full feature importance rankings (all 27 features) are saved to: `rf_feature_importance.csv`

---

## 5. Prediction Results

### Overview

| **Category** | **Value** |
|--------------|-----------|
| Total Pixels Processed | 136,975,599 |
| Valid Pixels | 15,569,516 (11.37%) |

### Classification Statistics

| **Class** | **Category** | **Pixels** | **Percentage** | **Area (ha)** |
|-----------|--------------|------------|----------------|---------------|
| 0 | ğŸŒ³ No Deforestation | 13,239,583 | 85.04% | 132,395.83 |
| 1 | ğŸ”¥ Deforestation | 2,329,933 | 14.96% | 23,299.33 |

---

## 6. Output Files

### Directory Structure

```
d:\ninhhaidang\25-26_HKI_DATN_21021411_DangNH\results/
â”œâ”€â”€ rasters/
â”‚   â”œâ”€â”€ rf_classification.tif
â”‚   â””â”€â”€ rf_probability.tif
â”œâ”€â”€ models/
â”‚   â””â”€â”€ rf_model.pkl
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ rf_training_data.csv
â”‚   â”œâ”€â”€ rf_feature_importance.csv
â”‚   â””â”€â”€ rf_evaluation_metrics.json
â”œâ”€â”€ plots/
â”‚   â”œâ”€â”€ rf_confusion_matrices.png
â”‚   â”œâ”€â”€ rf_roc_curve.png
â”‚   â”œâ”€â”€ rf_feature_importance.png
â”‚   â”œâ”€â”€ rf_classification_maps.png
â”‚   â””â”€â”€ rf_cv_scores.png
â””â”€â”€ report/
    â””â”€â”€ rf_report_20251112_225845.md
```

---

## 7. Execution Summary

| **Metric** | **Value** |
|------------|-----------|
| Training Time | 0.01 minutes |
| Pipeline Status | âœ… Successfully completed all steps |
| Features Engineered | 27 |
| Model Type | Random Forest with 100 trees |
| Model Size | N/A MB |

---

## 8. Key Findings

### ğŸ¯ Model Performance

- The Random Forest model achieved **excellent performance** with **97.94% accuracy** on the test set
- **High precision (96.00%)** indicates low false positive rate
- **High recall (100.00%)** indicates effective detection of deforestation
- **Robust performance** confirmed by cross-validation: 98.12% Â± 0.56%

### ğŸŒŸ Most Important Features

1. **S2_delta_NBR** (18.24%)
2. **S2_delta_B4** (16.99%)
3. **S2_delta_NDVI** (10.70%)

> These features are primarily derived from spectral indices (NDVI, NBR) and red band reflectance, which are strongly correlated with vegetation health.

### ğŸ”¥ Deforestation Detection

- **Detected:** 2,329,933 deforestation pixels
- **Area:** 23,299.33 hectares of deforested area
- **Preserved:** 132,395.83 hectares classified as intact forest

### ğŸ’ª Model Robustness

- **Cross-validation accuracy:** 98.12% Â± 0.56%
- **Out-of-Bag Score:** 98.34%
- **Consistent performance** across all evaluation metrics
- **Low variance** in cross-validation results indicates stable predictions

---

## 9. Conclusions

The Random Forest classifier demonstrates **excellent capability** in detecting deforestation in CÃ  Mau Province using multi-temporal Sentinel-1 and Sentinel-2 imagery.

**Strengths:**
- âœ… High accuracy (97.94%) and robust cross-validation results
- âœ… Balanced precision-recall trade-off
- âœ… Effective use of spectral indices and temporal changes
- âœ… Fast training and prediction times

**Recommendations:**
- âœ¨ Deploy model for operational forest monitoring
- ğŸ”„ Update ground truth data periodically for model refinement
- ğŸ“Š Compare with deep learning approaches (CNN) for performance evaluation
- ğŸŒ Extend methodology to other provinces or regions

---

**Report generated by Random Forest Deforestation Detection Pipeline**  
**Contact:** Ninh Háº£i ÄÄƒng (MSSV: 21021411)  
**Generated:** 2025-11-12 22:58:45
